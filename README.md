# Directory Listing API\n\nA powerful REST API for listing directory contents with comprehensive file metadata, permissions, and pagination support. Built for handling large directories (100,000+ files) efficiently with containerized deployment.\n\n## üöÄ Features\n\n- **Full Directory Listing**: Get complete file and directory information\n- **Rich Metadata**: File size, type, creation/modification dates, permissions\n- **Large Directory Support**: Pagination for directories with 100k+ files\n- **Security**: Path traversal protection and access control\n- **Cross-Platform**: Works on Windows, Linux, and macOS\n- **Containerized**: Docker support for easy deployment\n- **Performance**: Optimized for large directory operations\n\n## üìã API Endpoints\n\n### Base URL\n```\nhttp://localhost:3000/api/v1/directory\n```\n\n### Endpoints\n\n#### 1. API Information\n```http\nGET /api/v1/directory/\n```\nReturns API information and available endpoints.\n\n#### 2. List Directory Contents\n```http\nGET /api/v1/directory/list?path=/some/path&page=1&limit=100\n```\n\n**Query Parameters:**\n- `path` (required): Directory path to list\n- `page` (optional): Page number for pagination (default: 1)\n- `limit` (optional): Items per page, max 1000 (default: 100)\n- `includeHidden` (optional): Include hidden files (default: false)\n- `sortBy` (optional): Sort by `name`, `size`, `modified`, `type` (default: name)\n- `sortOrder` (optional): Sort order `asc` or `desc` (default: asc)\n\n**Example Response:**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"path\": \"/home/user/documents\",\n    \"items\": [\n      {\n        \"name\": \"example.txt\",\n        \"path\": \"/home/user/documents/example.txt\",\n        \"size\": 1024,\n        \"extension\": \".txt\",\n        \"type\": \"file\",\n        \"createdDate\": \"2023-01-01T12:00:00.000Z\",\n        \"modifiedDate\": \"2023-01-02T12:00:00.000Z\",\n        \"permissions\": {\n          \"readable\": true,\n          \"writable\": true,\n          \"executable\": false,\n          \"owner\": \"user\",\n          \"group\": \"users\",\n          \"mode\": \"644\"\n        },\n        \"isHidden\": false\n      }\n    ],\n    \"pagination\": {\n      \"page\": 1,\n      \"limit\": 100,\n      \"total\": 150,\n      \"totalPages\": 2,\n      \"hasNext\": true,\n      \"hasPrevious\": false\n    },\n    \"metadata\": {\n      \"totalFiles\": 120,\n      \"totalDirectories\": 30,\n      \"totalSize\": 2048576,\n      \"scannedAt\": \"2023-01-01T12:00:00.000Z\"\n    }\n  }\n}\n```\n\n#### 3. Get Directory Metadata\n```http\nGET /api/v1/directory/metadata?path=/some/path\n```\n\n**Query Parameters:**\n- `path` (required): Directory path\n\n**Example Response:**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"path\": \"/home/user/documents\",\n    \"exists\": true,\n    \"isDirectory\": true,\n    \"permissions\": {\n      \"readable\": true,\n      \"writable\": true,\n      \"executable\": true\n    },\n    \"totalItems\": 150,\n    \"totalSize\": 2048576,\n    \"lastAccessed\": \"2023-01-01T12:00:00.000Z\",\n    \"lastModified\": \"2023-01-02T12:00:00.000Z\",\n    \"created\": \"2023-01-01T10:00:00.000Z\"\n  }\n}\n```\n\n## üõ† Installation\n\n### Prerequisites\n- Node.js 16+ and npm 8+\n- Docker (optional, for containerized deployment)\n\n### Local Development\n\n1. **Clone and install dependencies:**\n```bash\nnpm install\n```\n\n2. **Copy environment file:**\n```bash\ncp .env.example .env\n```\n\n3. **Start development server:**\n```bash\nnpm run dev\n```\n\n4. **Build for production:**\n```bash\nnpm run build\nnpm start\n```\n\n### Docker Deployment\n\n1. **Build and run with Docker Compose:**\n```bash\ndocker-compose up -d\n```\n\n2. **Or build manually:**\n```bash\ndocker build -t directory-listing-api .\ndocker run -p 3000:3000 -v /:/host:ro directory-listing-api\n```\n\n**Important Security Note**: The Docker container mounts the host filesystem. Only use in trusted environments and consider implementing additional access restrictions.\n\n## üîí Security Features\n\n- **Path Traversal Protection**: Prevents `../` attacks\n- **Access Control**: Blocks access to sensitive system directories\n- **Input Validation**: Comprehensive validation of all inputs\n- **Rate Limiting**: Configurable API rate limits\n- **Logging**: Comprehensive audit logging\n\n## ‚öôÔ∏è Configuration\n\nEnvironment variables (see `.env.example`):\n\n- `PORT`: API server port (default: 3000)\n- `NODE_ENV`: Environment (development/production)\n- `LOG_LEVEL`: Logging level (info, warn, error)\n- `RATE_LIMIT_WINDOW_MS`: Rate limit window in milliseconds\n- `RATE_LIMIT_MAX_REQUESTS`: Max requests per window\n- `DEFAULT_PAGE_SIZE`: Default pagination size\n- `MAX_PAGE_SIZE`: Maximum pagination size\n\n## üìù Scripts\n\n- `npm run dev`: Start development server with hot reload\n- `npm run build`: Build TypeScript to JavaScript\n- `npm start`: Start production server\n- `npm test`: Run tests\n- `npm run lint`: Run ESLint\n- `npm run lint:fix`: Fix linting issues\n- `npm run docker:build`: Build Docker image\n- `npm run docker:run`: Run Docker container\n\n## üß™ Testing\n\n### Health Check\n```bash\ncurl http://localhost:3000/health\n```\n\n### List Directory (Unix/Linux/macOS)\n```bash\ncurl \"http://localhost:3000/api/v1/directory/list?path=/home&page=1&limit=10\"\n```\n\n### List Directory (Windows)\n```bash\ncurl \"http://localhost:3000/api/v1/directory/list?path=C:\\\\Users&page=1&limit=10\"\n```\n\n## üèó Architecture\n\n```\nsrc/\n‚îú‚îÄ‚îÄ controllers/     # Request handlers\n‚îú‚îÄ‚îÄ middleware/      # Express middleware\n‚îú‚îÄ‚îÄ routes/         # Route definitions\n‚îú‚îÄ‚îÄ services/       # Business logic\n‚îú‚îÄ‚îÄ types/          # TypeScript interfaces\n‚îú‚îÄ‚îÄ utils/          # Utilities (logging, etc.)\n‚îî‚îÄ‚îÄ index.ts        # Application entry point\n```\n\n## üîß Development\n\n### Adding New Features\n\n1. **Add route** in `src/routes/`\n2. **Implement controller** in `src/controllers/`\n3. **Add business logic** in `src/services/`\n4. **Update types** in `src/types/`\n5. **Add tests** in `__tests__/`\n\n### Code Quality\n\n- TypeScript for type safety\n- ESLint for code quality\n- Comprehensive error handling\n- Structured logging with Winston\n- Input validation with express-validator\n\n## üìÑ License\n\nMIT License - see LICENSE file for details.\n\n## ü§ù Contributing\n\n1. Fork the repository\n2. Create a feature branch\n3. Make your changes\n4. Add tests\n5. Submit a pull request\n\n## ‚ö†Ô∏è Important Notes\n\n- **Security**: This API provides filesystem access. Deploy in trusted environments only.\n- **Performance**: Large directories (100k+ files) are supported but may take time to process.\n- **Permissions**: The API respects filesystem permissions but runs with the permissions of the user/container.\n- **Cross-Platform**: Tested on Windows, Linux, and macOS.\n\n## üìû Support\n\nFor issues, feature requests, or questions:\n- Check existing issues\n- Create a new issue with detailed information\n- Include system information and error logs